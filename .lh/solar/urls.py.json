{
    "sourceFile": "solar/urls.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 10,
            "patches": [
                {
                    "date": 1733408152236,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1733408548468,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,29 +1,49 @@\n-from django.urls import path\n+from django.urls import path, include\n+from rest_framework.routers import DefaultRouter\n from .views import (\n-    public_views, \n-    bill_views, \n-    auth_views,\n-    quote_views\n+    BillValidateAPIView,\n+    BillDetailsAPIView,\n+    BillAnalyzeAPIView,\n+    QuoteGenerateAPIView,\n+    QuoteDetailsAPIView,\n+    PanelViewSet,\n+    InverterViewSet,\n+    CustomerViewSet,\n+    PriceConfigurationView,\n+    DashboardStatsView,\n+    IndexView,\n+    QuotationView\n )\n \n-urlpatterns = [\n-    # Auth endpoints\n-    path('api/auth/login/', auth_views.LoginView.as_view(), name='login'),\n-    path('api/auth/refresh/', auth_views.RefreshTokenView.as_view(), name='refresh_token'),\n+# Create a router and register viewsets\n+router = DefaultRouter()\n+router.register(r'panels', PanelViewSet)\n+router.register(r'inverters', InverterViewSet)\n+router.register(r'customers', CustomerViewSet)\n \n+# API URL patterns\n+api_patterns = [\n     # Bill endpoints\n-    path('api/bill/validate/', bill_views.BillValidateAPIView.as_view(), name='validate_bill'),\n-    path('api/bill/details/<str:reference_number>/', bill_views.BillDetailsAPIView.as_view(), name='bill_details'),\n-    path('api/bill/analyze/', bill_views.BillAnalyzeAPIView.as_view(), name='analyze_bill'),\n-    path('api/bill/data/<str:reference_number>/', bill_views.GetBillDataAPIView.as_view(), name='get_bill_data'),\n+    path('bill/validate/', BillValidateAPIView.as_view(), name='bill-validate'),\n+    path('bill/details/<str:reference_number>/', BillDetailsAPIView.as_view(), name='bill-details'),\n+    path('bill/analyze/', BillAnalyzeAPIView.as_view(), name='bill-analyze'),\n \n     # Quote endpoints\n-    path('api/quote/generate/', quote_views.QuoteGenerateAPIView.as_view(), name='generate_quote'),\n-    path('api/quote/details/<str:quote_id>/', quote_views.QuoteDetailsAPIView.as_view(), name='quote_details'),\n-    path('api/quote/system/<int:system_size>/', quote_views.GenerateInvoiceForSystem.as_view(), name='system_invoice'),\n+    path('quote/generate/', QuoteGenerateAPIView.as_view(), name='quote-generate'),\n+    path('quote/details/<str:quote_id>/', QuoteDetailsAPIView.as_view(), name='quote-details'),\n \n-    # Public pages\n-    path('', public_views.index, name='index'),\n-    path('quotation/', public_views.quotation, name='quotation'),\n-    path('control-panel/', public_views.control_panel, name='control_panel'),\n+    # Admin endpoints\n+    path('', include(router.urls)),\n+    path('prices/', PriceConfigurationView.as_view(), name='price-configuration'),\n+    path('dashboard/stats/', DashboardStatsView.as_view(), name='dashboard-stats'),\n+]\n+\n+# Main URL patterns\n+urlpatterns = [\n+    # API routes (prefix with /api/)\n+    path('api/', include((api_patterns, 'api'))),\n+\n+    # Frontend routes\n+    path('', IndexView.as_view(), name='index'),\n+    path('quotation/', QuotationView.as_view(), name='quotation'),\n ]\n\\ No newline at end of file\n"
                },
                {
                    "date": 1733411949288,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,26 +1,31 @@\n+# solar/urls.py\n from django.urls import path, include\n from rest_framework.routers import DefaultRouter\n+\n from .views import (\n     BillValidateAPIView,\n     BillDetailsAPIView,\n     BillAnalyzeAPIView,\n     QuoteGenerateAPIView,\n     QuoteDetailsAPIView,\n+    QuoteSaveAPIView,\n+    CustomerListAPIView,\n+    CustomerDetailAPIView,\n+    CustomerBulkCreateAPIView,\n+    CustomerStatsAPIView,\n     PanelViewSet,\n     InverterViewSet,\n-    CustomerViewSet,\n     PriceConfigurationView,\n     DashboardStatsView,\n     IndexView,\n     QuotationView\n )\n \n-# Create a router and register viewsets\n+# Create router for viewsets\n router = DefaultRouter()\n router.register(r'panels', PanelViewSet)\n router.register(r'inverters', InverterViewSet)\n-router.register(r'customers', CustomerViewSet)\n \n # API URL patterns\n api_patterns = [\n     # Bill endpoints\n@@ -30,20 +35,32 @@\n \n     # Quote endpoints\n     path('quote/generate/', QuoteGenerateAPIView.as_view(), name='quote-generate'),\n     path('quote/details/<str:quote_id>/', QuoteDetailsAPIView.as_view(), name='quote-details'),\n+    path('quote/save/', QuoteSaveAPIView.as_view(), name='quote-save'),\n \n+    # Customer endpoints\n+    path('customers/', CustomerListAPIView.as_view(), name='customer-list'),\n+    path('customers/<str:reference_number>/', CustomerDetailAPIView.as_view(), name='customer-detail'),\n+    path('customers/bulk-create/', CustomerBulkCreateAPIView.as_view(), name='customer-bulk-create'),\n+    path('customers/stats/', CustomerStatsAPIView.as_view(), name='customer-stats'),\n+\n     # Admin endpoints\n     path('', include(router.urls)),\n     path('prices/', PriceConfigurationView.as_view(), name='price-configuration'),\n     path('dashboard/stats/', DashboardStatsView.as_view(), name='dashboard-stats'),\n ]\n \n+# Frontend URL patterns\n+frontend_patterns = [\n+    path('', IndexView.as_view(), name='index'),\n+    path('quotation/', QuotationView.as_view(), name='quotation'),\n+]\n+\n # Main URL patterns\n urlpatterns = [\n-    # API routes (prefix with /api/)\n+    # API routes\n     path('api/', include((api_patterns, 'api'))),\n-\n+    \n     # Frontend routes\n-    path('', IndexView.as_view(), name='index'),\n-    path('quotation/', QuotationView.as_view(), name='quotation'),\n+    path('', include(frontend_patterns)),\n ]\n\\ No newline at end of file\n"
                },
                {
                    "date": 1733428430205,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,8 +47,14 @@\n     # Admin endpoints\n     path('', include(router.urls)),\n     path('prices/', PriceConfigurationView.as_view(), name='price-configuration'),\n     path('dashboard/stats/', DashboardStatsView.as_view(), name='dashboard-stats'),\n+    \n+        # Admin routes\n+    path('api/admin/', include(admin_router.urls)),\n+    path('api/admin/prices/', admin_views.PriceConfigurationView.as_view(), name='price-configuration'),\n+    path('api/admin/dashboard/', admin_views.DashboardStatsView.as_view(), name='dashboard-stats'),\n+\n ]\n \n # Frontend URL patterns\n frontend_patterns = [\n"
                },
                {
                    "date": 1733432389589,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,66 +1,55 @@\n # solar/urls.py\n from django.urls import path, include\n from rest_framework.routers import DefaultRouter\n-\n from .views import (\n-    BillValidateAPIView,\n-    BillDetailsAPIView,\n-    BillAnalyzeAPIView,\n-    QuoteGenerateAPIView,\n-    QuoteDetailsAPIView,\n-    QuoteSaveAPIView,\n-    CustomerListAPIView,\n-    CustomerDetailAPIView,\n-    CustomerBulkCreateAPIView,\n-    CustomerStatsAPIView,\n-    PanelViewSet,\n-    InverterViewSet,\n-    PriceConfigurationView,\n-    DashboardStatsView,\n-    IndexView,\n-    QuotationView\n+    bill_views,\n+    quote_views,\n+    customer_views,\n+    admin_views,\n+    frontend_views,\n+    dashboard_views\n )\n \n # Create router for viewsets\n router = DefaultRouter()\n-router.register(r'panels', PanelViewSet)\n-router.register(r'inverters', InverterViewSet)\n+router.register(r'panels', admin_views.PanelViewSet)\n+router.register(r'inverters', admin_views.InverterViewSet)\n \n # API URL patterns\n api_patterns = [\n     # Bill endpoints\n-    path('bill/validate/', BillValidateAPIView.as_view(), name='bill-validate'),\n-    path('bill/details/<str:reference_number>/', BillDetailsAPIView.as_view(), name='bill-details'),\n-    path('bill/analyze/', BillAnalyzeAPIView.as_view(), name='bill-analyze'),\n+    path('bill/validate/', bill_views.BillValidateAPIView.as_view(), name='bill-validate'),\n+    path('bill/details/<str:reference_number>/', bill_views.BillDetailsAPIView.as_view(), name='bill-details'),\n+    path('bill/analyze/', bill_views.BillAnalyzeAPIView.as_view(), name='bill-analyze'),\n \n     # Quote endpoints\n-    path('quote/generate/', QuoteGenerateAPIView.as_view(), name='quote-generate'),\n-    path('quote/details/<str:quote_id>/', QuoteDetailsAPIView.as_view(), name='quote-details'),\n-    path('quote/save/', QuoteSaveAPIView.as_view(), name='quote-save'),\n+    path('quote/generate/', quote_views.QuoteGenerateAPIView.as_view(), name='quote-generate'),\n+    path('quote/details/<str:quote_id>/', quote_views.QuoteDetailsAPIView.as_view(), name='quote-details'),\n+    path('quote/save/', quote_views.QuoteSaveAPIView.as_view(), name='quote-save'),\n \n     # Customer endpoints\n-    path('customers/', CustomerListAPIView.as_view(), name='customer-list'),\n-    path('customers/<str:reference_number>/', CustomerDetailAPIView.as_view(), name='customer-detail'),\n-    path('customers/bulk-create/', CustomerBulkCreateAPIView.as_view(), name='customer-bulk-create'),\n-    path('customers/stats/', CustomerStatsAPIView.as_view(), name='customer-stats'),\n+    path('customers/', customer_views.CustomerListAPIView.as_view(), name='customer-list'),\n+    path('customers/<str:reference_number>/', customer_views.CustomerDetailAPIView.as_view(), name='customer-detail'),\n+    path('customers/bulk-create/', customer_views.CustomerBulkCreateAPIView.as_view(), name='customer-stats'),\n+    path('customers/stats/', customer_views.CustomerStatsAPIView.as_view(), name='customer-stats'),\n \n     # Admin endpoints\n-    path('', include(router.urls)),\n-    path('prices/', PriceConfigurationView.as_view(), name='price-configuration'),\n-    path('dashboard/stats/', DashboardStatsView.as_view(), name='dashboard-stats'),\n-    \n-        # Admin routes\n-    path('api/admin/', include(admin_router.urls)),\n-    path('api/admin/prices/', admin_views.PriceConfigurationView.as_view(), name='price-configuration'),\n-    path('api/admin/dashboard/', admin_views.DashboardStatsView.as_view(), name='dashboard-stats'),\n-\n+    path('admin/', include([\n+        path('', include(router.urls)),\n+        path('prices/', admin_views.PriceConfigurationView.as_view(), name='price-configuration'),\n+        path('dashboard/', include([\n+            path('stats/', dashboard_views.DashboardMetricsView.as_view(), name='dashboard-stats'),\n+            path('charts/', dashboard_views.DashboardChartsView.as_view(), name='dashboard-charts'),\n+            path('summary/', dashboard_views.DashboardSummaryView.as_view(), name='dashboard-summary'),\n+        ])),\n+    ])),\n ]\n \n # Frontend URL patterns\n frontend_patterns = [\n-    path('', IndexView.as_view(), name='index'),\n-    path('quotation/', QuotationView.as_view(), name='quotation'),\n+    path('', frontend_views.IndexView.as_view(), name='index'),\n+    path('quotation/', frontend_views.QuotationView.as_view(), name='quotation'),\n ]\n \n # Main URL patterns\n urlpatterns = [\n"
                },
                {
                    "date": 1733432824631,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n # solar/urls.py\n-from django.urls import path, include\n+from django.urls import path, include, re_path\n from rest_framework.routers import DefaultRouter\n from .views import (\n     bill_views,\n     quote_views,\n@@ -8,8 +8,9 @@\n     admin_views,\n     frontend_views,\n     dashboard_views\n )\n+from .views.frontend_views import SPAView\n \n # Create router for viewsets\n router = DefaultRouter()\n router.register(r'panels', admin_views.PanelViewSet)\n@@ -55,7 +56,8 @@\n urlpatterns = [\n     # API routes\n     path('api/', include((api_patterns, 'api'))),\n     \n-    # Frontend routes\n-    path('', include(frontend_patterns)),\n+    # Catch all routes and let the frontend router handle them\n+    re_path(r'^.*$', SPAView.as_view(), name='spa'),\n+\n ]\n\\ No newline at end of file\n"
                },
                {
                    "date": 1733432838621,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,14 +45,8 @@\n         ])),\n     ])),\n ]\n \n-# Frontend URL patterns\n-frontend_patterns = [\n-    path('', frontend_views.IndexView.as_view(), name='index'),\n-    path('quotation/', frontend_views.QuotationView.as_view(), name='quotation'),\n-]\n-\n # Main URL patterns\n urlpatterns = [\n     # API routes\n     path('api/', include((api_patterns, 'api'))),\n"
                },
                {
                    "date": 1733433141256,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,9 @@\n \n # Main URL patterns\n urlpatterns = [\n     # API routes\n-    path('api/', include((api_patterns, 'api'))),\n+    path('api/', include('solar.api_urls')),\n     \n     # Catch all routes and let the frontend router handle them\n     re_path(r'^.*$', SPAView.as_view(), name='spa'),\n \n"
                },
                {
                    "date": 1733433148308,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,8 +50,10 @@\n urlpatterns = [\n     # API routes\n     path('api/', include('solar.api_urls')),\n     \n-    # Catch all routes and let the frontend router handle them\n-    re_path(r'^.*$', SPAView.as_view(), name='spa'),\n+    # Serve frontend\n+    path('', SPAView.as_view(), name='spa'),\n+    # Catch all unknown paths and let frontend router handle them\n+    re_path(r'^(?!api/).*$', SPAView.as_view(), name='spa-routes'),\n \n ]\n\\ No newline at end of file\n"
                },
                {
                    "date": 1733433231077,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,38 +15,8 @@\n router = DefaultRouter()\n router.register(r'panels', admin_views.PanelViewSet)\n router.register(r'inverters', admin_views.InverterViewSet)\n \n-# API URL patterns\n-api_patterns = [\n-    # Bill endpoints\n-    path('bill/validate/', bill_views.BillValidateAPIView.as_view(), name='bill-validate'),\n-    path('bill/details/<str:reference_number>/', bill_views.BillDetailsAPIView.as_view(), name='bill-details'),\n-    path('bill/analyze/', bill_views.BillAnalyzeAPIView.as_view(), name='bill-analyze'),\n-\n-    # Quote endpoints\n-    path('quote/generate/', quote_views.QuoteGenerateAPIView.as_view(), name='quote-generate'),\n-    path('quote/details/<str:quote_id>/', quote_views.QuoteDetailsAPIView.as_view(), name='quote-details'),\n-    path('quote/save/', quote_views.QuoteSaveAPIView.as_view(), name='quote-save'),\n-\n-    # Customer endpoints\n-    path('customers/', customer_views.CustomerListAPIView.as_view(), name='customer-list'),\n-    path('customers/<str:reference_number>/', customer_views.CustomerDetailAPIView.as_view(), name='customer-detail'),\n-    path('customers/bulk-create/', customer_views.CustomerBulkCreateAPIView.as_view(), name='customer-stats'),\n-    path('customers/stats/', customer_views.CustomerStatsAPIView.as_view(), name='customer-stats'),\n-\n-    # Admin endpoints\n-    path('admin/', include([\n-        path('', include(router.urls)),\n-        path('prices/', admin_views.PriceConfigurationView.as_view(), name='price-configuration'),\n-        path('dashboard/', include([\n-            path('stats/', dashboard_views.DashboardMetricsView.as_view(), name='dashboard-stats'),\n-            path('charts/', dashboard_views.DashboardChartsView.as_view(), name='dashboard-charts'),\n-            path('summary/', dashboard_views.DashboardSummaryView.as_view(), name='dashboard-summary'),\n-        ])),\n-    ])),\n-]\n-\n # Main URL patterns\n urlpatterns = [\n     # API routes\n     path('api/', include('solar.api_urls')),\n"
                },
                {
                    "date": 1733433281686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,13 +10,8 @@\n     dashboard_views\n )\n from .views.frontend_views import SPAView\n \n-# Create router for viewsets\n-router = DefaultRouter()\n-router.register(r'panels', admin_views.PanelViewSet)\n-router.register(r'inverters', admin_views.InverterViewSet)\n-\n # Main URL patterns\n urlpatterns = [\n     # API routes\n     path('api/', include('solar.api_urls')),\n"
                }
            ],
            "date": 1733408152236,
            "name": "Commit-0",
            "content": "from django.urls import path\nfrom .views import (\n    public_views, \n    bill_views, \n    auth_views,\n    quote_views\n)\n\nurlpatterns = [\n    # Auth endpoints\n    path('api/auth/login/', auth_views.LoginView.as_view(), name='login'),\n    path('api/auth/refresh/', auth_views.RefreshTokenView.as_view(), name='refresh_token'),\n\n    # Bill endpoints\n    path('api/bill/validate/', bill_views.BillValidateAPIView.as_view(), name='validate_bill'),\n    path('api/bill/details/<str:reference_number>/', bill_views.BillDetailsAPIView.as_view(), name='bill_details'),\n    path('api/bill/analyze/', bill_views.BillAnalyzeAPIView.as_view(), name='analyze_bill'),\n    path('api/bill/data/<str:reference_number>/', bill_views.GetBillDataAPIView.as_view(), name='get_bill_data'),\n\n    # Quote endpoints\n    path('api/quote/generate/', quote_views.QuoteGenerateAPIView.as_view(), name='generate_quote'),\n    path('api/quote/details/<str:quote_id>/', quote_views.QuoteDetailsAPIView.as_view(), name='quote_details'),\n    path('api/quote/system/<int:system_size>/', quote_views.GenerateInvoiceForSystem.as_view(), name='system_invoice'),\n\n    # Public pages\n    path('', public_views.index, name='index'),\n    path('quotation/', public_views.quotation, name='quotation'),\n    path('control-panel/', public_views.control_panel, name='control_panel'),\n]"
        }
    ]
}